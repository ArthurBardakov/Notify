import{a as K,b as H}from"./chunk-BAEX33HI.js";import{a as R}from"./chunk-5VK4SM74.js";import{m as U,n as S}from"./chunk-ABCWXAW7.js";import"./chunk-F7MGRRIG.js";import{m as G,n as T}from"./chunk-NQPD47JQ.js";import{Bb as E,Cb as P,Db as b,Eb as I,Fa as B,Fb as d,Ga as L,Gb as p,Hb as D,Kb as h,Nb as g,Ob as $,Yb as u,Zb as V,_b as w,ab as m,cc as j,dc as q,ea as y,ec as _,gc as N,hc as z,ia as v,ic as C,jc as O,kc as M,la as x,ta as l,ua as s,ub as A,wb as k}from"./chunk-N7K2CRMW.js";var J=(()=>{let e=class e{transform(i){return!i||i.length===0?[]:i.sort((o,n)=>{let r=o.updatedAt?o.updatedAt:o.createdAt;return(n.updatedAt?n.updatedAt:n.createdAt).getTime()-r.getTime()})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=x({name:"sortNotesByDate",type:e,pure:!0,standalone:!0});let t=e;return t})();var X=t=>({"background-color":t}),Q=(()=>{let e=class e{constructor(){this.note=L.required(),this.deleteClicked=B(),this.navSrc=y(H)}goToNote(i){this.navSrc.toggleNavigationTo.next({route:K.NOTE,extras:{queryParams:{id:i}}})}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=v({type:e,selectors:[["app-note-card"]],inputs:{note:[1,"note"]},outputs:{deleteClicked:"deleteClicked"},standalone:!0,features:[N],decls:14,vars:10,consts:[[1,"note-card",3,"ngStyle"],["tabindex","0",1,"note-card__content",3,"click","keyup.enter"],[1,"note-content-field","note-content-field__title"],[1,"note-content-field","note-content-field__content"],[1,"note-card__footer"],["tabindex","0",1,"note-card__date",3,"click","keyup.enter"],["aria-hidden","false","tabindex","0",1,"note-card__delete-icon",3,"click","keyup.enter"]],template:function(o,n){if(o&1){let r=h();j(0)(1),d(2,"div",0)(3,"div",1),g("click",function(){l(r);let a=_(0);return s(n.goToNote(a))})("keyup.enter",function(){l(r);let a=_(0);return s(n.goToNote(a))}),d(4,"h1",2),u(5),p(),d(6,"p",3),u(7),p()(),d(8,"div",4)(9,"p",5),g("click",function(){l(r);let a=_(0);return s(n.goToNote(a))})("keyup.enter",function(){l(r);let a=_(0);return s(n.goToNote(a))}),u(10),C(11,"date"),p(),d(12,"mat-icon",6),g("click",function(){l(r);let a=_(0);return s(n.deleteClicked.emit(a))})("keyup.enter",function(){l(r);let a=_(0);return s(n.deleteClicked.emit(a))}),u(13," delete "),p()()()}if(o&2){q(n.note().id);let r=!!n.note().updatedAt;m(2),k("ngStyle",z(8,X,n.note().hexColor)),m(3),V(n.note().title),m(2),V(n.note().content),m(3),w(" ",(r?"Edited":"Created")+" "+M(11,5,r?n.note().updatedAt:n.note().createdAt,"h:mm a")," ")}},dependencies:[S,U,T,G],styles:[".note-card[_ngcontent-%COMP%]{display:grid;gap:var(--space-2xs);border-radius:var(--space-2xs);box-shadow:var(--card-box-shadow);padding:var(--space-xs);cursor:pointer;background-color:var(--mat-primary)}.note-card__content[_ngcontent-%COMP%]{display:grid;gap:var(--space-2xs)}.note-content-field[_ngcontent-%COMP%]{display:-webkit-box;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;white-space:normal}.note-content-field__title[_ngcontent-%COMP%]{-webkit-line-clamp:1;line-clamp:1}.note-content-field__content[_ngcontent-%COMP%]{-webkit-line-clamp:4;line-clamp:4}.note-card__footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.note-card__date[_ngcontent-%COMP%]{font-size:var(--font-1);line-height:var(--line-height-1);color:var(--text-color-grey);flex-grow:1}.note-card__delete-icon[_ngcontent-%COMP%]{color:var(--mat-neutral);width:auto;padding-inline:.625rem}"]});let t=e;return t})();var W=(()=>{let e=class e{transform(i){if(!i||i.length===0)return[];let o=i.reduce((n,r)=>{let c=(r.updatedAt||r.createdAt).toISOString().split("T")[0];return n[c]||(n[c]=[]),n[c].push(r),n},{});return Object.entries(o)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275pipe=x({name:"groupByDate",type:e,pure:!0,standalone:!0});let t=e;return t})();function Y(t,e){if(t&1){let f=h();d(0,"app-note-card",4),g("deleteClicked",function(o){l(f);let n=$(2);return s(n.store.deleteNote(o))}),p()}if(t&2){let f=e.$implicit;k("note",f)}}function Z(t,e){t&1&&D(0,"div",3)}function ee(t,e){if(t&1&&(d(0,"h2",0),u(1),C(2,"date"),p(),d(3,"div",1),b(4,Y,1,1,"app-note-card",2,P),p(),A(6,Z,1,0,"div",3)),t&2){let f=e.$implicit,i=e.$index,o=e.$count;m(),w(" ",M(2,2,f[0],"MMMM d, yyyy")," "),m(3),I(f[1]),m(2),E(i!==o-1?6:-1)}}function te(t,e){t&1&&(d(0,"p"),u(1,"No notes found"),p())}var he=(()=>{let e=class e{constructor(){this.store=y(R)}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=v({type:e,selectors:[["app-note-list"]],standalone:!0,features:[N],decls:5,vars:5,consts:[[1,"note-card-group-title"],[1,"note-card-group"],[3,"note"],[1,"note-card-separator"],[3,"deleteClicked","note"]],template:function(o,n){o&1&&(b(0,ee,7,5,null,null,P,!1,te,2,0,"p"),C(3,"sortNotesByDate"),C(4,"groupByDate")),o&2&&I(O(4,3,O(3,1,n.store.notes())))},dependencies:[S,J,Q,W,T],styles:["[_nghost-%COMP%]{display:grid}.note-card-group[_ngcontent-%COMP%]{display:grid;gap:var(--space-xs)}.note-card-group-title[_ngcontent-%COMP%]{margin-bottom:var(--space-s);text-align:center;color:var(--text-color-dark)}.note-card-separator[_ngcontent-%COMP%]{width:100%;height:1px;background-color:var(--mat-neutral-80);margin-top:var(--space-m);margin-bottom:var(--space-s)}"]});let t=e;return t})();export{he as NoteListComponent};
